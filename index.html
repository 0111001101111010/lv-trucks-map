<!DOCTYPE html>
<!--[if lt IE 7]>      <html class='no-js lt-ie9 lt-ie8 lt-ie7'> <![endif]-->
<!--[if IE 7]>         <html class='no-js lt-ie9 lt-ie8'> <![endif]-->
<!--[if IE 8]>         <html class='no-js lt-ie9'> <![endif]-->
<!--[if gt IE 8]><!--> <html class='no-js'> <!--<![endif]-->
    <head>
        <meta charset='utf-8'>
        <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
        <meta name='viewport' content='width=device-width, initial-scale=1.0'>
        <title>Food Trucks of Downtown Las Vegas</title>
        <meta name='description' content='Find out when your favorite food trucks are in downtown Las Vegas!'>
        <meta name='viewport' content='width=device-width'>

        <link rel="author" href="humans.txt" />

        <link href='css/styles.less' rel='stylesheet/less' type='text/css' />
        <script src='js/vendor/less-1.3.3.min.js' type='text/javascript'></script>

        <link rel='icon' type='image/png' href='favicon.png' />
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <link rel='apple-touch-icon' href='apple-touch-icon.png' />
        <link rel='apple-touch-icon' sizes='72x72' href='apple-touch-icon-72x72-precomposed.png' />
        <link rel='apple-touch-icon' sizes='114x114' href='apple-touch-icon-114x114-precomposed.png' />
        <link rel='apple-touch-icon' sizes='144x144' href='apple-touch-icon-144x144-precomposed.png' />

        <link rel='stylesheet' href='css/main.css'>
        <script src='js/vendor/modernizr-2.6.2.min.js'></script>

        <!-- <link rel='stylesheet' href='css/typicons.css'> -->
        
        <link href='http://api.tiles.mapbox.com/mapbox.js/v1.0.4/mapbox.css' rel='stylesheet' />
        <!--[if lte IE 8]>
            <link href='http://api.tiles.mapbox.com/mapbox.js/v1.0.4/mapbox.ie.css' rel='stylesheet' />
        <![endif]-->
        <script src='http://api.tiles.mapbox.com/mapbox.js/v1.0.4/mapbox.js'></script>

        <!-- basic layout stuff - needs to be here because map renders before LESS -->
        <style type='text/css'>

            html, body {
                padding: 0;
                margin: 0;
                width: 100%;
                height: 100%;
            }

            #main {
                width: 100%;
                height: 100%;
                position: absolute;
            }

            #map {
                width: 100%;
                height: 100%;
                position: absolute !important; // need !important for firefox
            }

        </style>
        
    </head>
    <body>
        <!--[if lt IE 7]>
            <p class='chromeframe'>You are using an <strong>outdated</strong> browser. Please <a href='http://browsehappy.com/'>upgrade your browser</a> or <a href='http://www.google.com/chromeframe/?redirect=true'>activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <header>
            <div class='container'>
                <section id='nav-logo'>
                    <div><h1>City of Las Vegas Mobile Food Vendor Map</h1></div>
                    <a href='http://lasvegasnevada.gov' target='_blank'></a>
                </section>
            </div>
        </header>

        <section id='main'>

            <div id='truck-info'>
                <div class='truck-title'>Mobile food vendors</div>
                <div id='truck-data'>
                    <div id='truck-head-now' class='truck-heading truck-heading-border'>Open now</div>
                    <div id='truck-info-now' class='truck-entries' style='display: none;'>
                        <!-- Replace this area with generated entries -->
                        <div class='truck-message'>
                            <h3>There are no trucks open right now.</h3>
                        </div>
                    </div>
                    <div id='truck-head-later' class='truck-heading truck-heading-border'>Later today</div>
                    <div id='truck-info-later' class='truck-entries' style='display: none;'>
                        <!-- Replace this area with generated entries -->
                        <div class='truck-message'>
                            <h3>There are no trucks open later.</h3>
                        </div>
                    </div>
                    <div id='truck-head-muchlater' class='truck-heading'>Tomorrow</div>
                    <div id='truck-info-muchlater' class='truck-entries' style='display: none;'>
                        <!-- Replace this area with generated entries -->
                        <div class='truck-message'>
                            <h3>There are no trucks open tomorrow.</h3>
                        </div>
                    </div>
                </div>
            </div>

            <!-- BEGIN TEMPLATES -->
            <!-- Mustache - Truck Entries -->
            <div id='truck-entry-template' style='display: none'>
            <script id='m-truck-entry' type='text/template'>
                {{#entries}}
                <div class='truck-entry' data-location-id='{{location.id}}'>
                    <div class='truck-image'></div>
                    <h3>{{truck.name}}</h3>
                    <p>
                        is at <strong>{{location.name}}</strong>
                        <br><span class='address'>{{location.address}}</span>
                    </p>
                    {{#date}}
                        <span class='time'>{{date}} {{from}}</span>
                    {{/date}}
                    {{^date}}
                        {{#from}}
                            <span class='time'>{{from}} - {{until}}</span>
                        {{/from}}
                        {{^from}}
                            <span class='time'>until {{until}}</span>
                        {{/from}}
                    {{/date}}
                </div>
                {{/entries}}
            </script>
            </section>
            <!-- // end Mustasche - Truck Entries -->

            <!-- Mustache - Popups -->
            <div id='popup-template' style='display: none'>
            <script id='m-popup' type='text/template'>
                <div id='popup'>
                    <div class='popup-tag'>
                        Open now until {{until}}
                    </div>
                    <div class='popup-info'>
                        <div class='popup-truck'>
                            <div class='truck-image' style='background: #f1f1f1 url("{{truck.logo_url}}") no-repeat'></div>
                            <div style='float: left; width: 220px'>
                                <h3>{{truck.name}}</h3>
                                <small>{{truck.cuisine}}</small>
                                <p>
                                    Just pretend there is way more information here about this truck
                                </p>
                            </div>
                        </div>
                        <div class='popup-location'>
                        <p>
                            <strong>{{location.name}}</strong>
                            <br><small>{{location.address}}</small>
                        </p>
                        </div>
                    </div>
                </div>
            </script>
            </div>
            <!-- // end Mustache - Popups -->

            <!-- Invisible DOM elements to allow jQuery to grab colors set in CSS -->
            <div style='display: none;'>
                <div class='truck-heading-hilite'></div>
                <div class='truck-entry-hilite'></div>
                <div class='truck-entry'></div> 
            </div>
            <!-- // end invisible DOM elements -->

            <!-- END TEMPLATE SECTION -->

            <div id='popup-layer'></div>

            <div id='map' class='dark'></div>

        </section>

        <footer>
            <div class='container'>
                <ul id='footer-wide'>
                    <li id='footer-trucks-link'>View all participating trucks</li>
                    <li id='footer-calendar-link'>View full calendar</li>
                    <li id='footer-mfv-link'>Mobile food vendor program</li>
                    <li id='footer-about-link'>About this app</li>
                </ul>
                <ul id='footer-mid'>
                    <li id='footer-trucks-link'>All trucks</li>
                    <li id='footer-calendar-link'>Calendar</li>
                    <li id='footer-mfv-link'>MFV program</li>
                    <li id='footer-about-link'>About</li>
                </ul>
                <ul id='footer-condensed'>
                    <li id='footer-trucks-link'>T</li>
                    <li id='footer-calendar-link'>C</li>
                    <li id='footer-mfv-link'>A</li>
                    <li id='footer-about-link'>?</li>
                </ul>
            </div>
            <section id='pi'>
                <a href='https://github.com/louh/lv-trucks-map/' target='_blank'>
                    <img alt='CfA flag' src='img/cfa-flag.png'>
                </a>
            </section>
        </footer>

        <section id='footer-elements'>
            <div class='footer-popup' id='footer-trucks'>
                <div class='footer-popup-close'>×</div>
                <div class='footer-popup-title'>
                    <h2>All participating trucks</h2>
                </div>
                <div class='footer-popup-content'>
                    <p>
                        Coming soon...
                    </p>
                </div>
            </div>
            <div class='footer-popup' id='footer-calendar'>
                <div class='footer-popup-close'>×</div>
                <div class='footer-popup-title'>
                   <h2>Full calendar</h2>
                </div>
                <div class='footer-popup-content'>
                    <p>
                        Coming soon...
                    </p>
                </div>
            </div>
            <div class='footer-popup' id='footer-mfv'>
                <div class='footer-popup-close'>×</div>
                <div class='footer-popup-title'>
                    <h2>About the mobile food vendor program</h2>
                </div>
                <div class='footer-popup-content'>
                    <p>
                        The City of Las Vegas initiated a pilot program in June 2013 for mobile food vendors to operate at three specified locations in Downtown Las Vegas, allowing them to be parked and operational in public rights of way for longer than 30 minutes at a time.  Participating vendors were placed in a lottery system at the beginning of the program to reserve dates and hours of operation, which are verified by the electronic parking meters.  This program does not apply to special events or other locations outside of downtown.  Supporting <a href='https://lasvegasnevada.gov/files/6220_Bill_2012-37.pdf' target='_blank'>ordinances</a> for this program have been passed by the City Council.
                    </p>
                </div>
            </div>
            <div class='footer-popup' id='footer-about'>
                <div class='footer-popup-close'>×</div>
                <div class='footer-popup-title'>
                    <h2>About this app</h2>
                </div>
                <div class='footer-popup-content'>
                    <p>
                        This application uses real-time data from new parking meters installed by the <a href='http://lasvegasnevada.gov/'>City of Las Vegas</a>. When food truck vendors pay for their spot, they enter in their truck's license plate number, so we know exactly which truck appears and when. Food trucks appearing on the schedule are subject to change, but now we'll let you know when changes occur, right when it matters the most—when you're hungry!
                    </p>

                    <p>
                        <a href='http://codeforamerica.org/'>Code for America</a> built and released this under a permissive open source license. Many thanks to <a href='http://www.parkeon.us/'>Parkeon</a> for their cooperation and hard work in making this possible. We welcome <a href='http://github.com/louh/lv-trucks-map/'>comments, contributions, forks, and spoons</a>.
                    </p>
                </div>
            </div>
        </section>

        <!-- MUSTACHE TEMPLATES for footer -->
        <section id='footer-templates' style='display: none'>
        <script id='m-footer-all-trucks' type='text/template'>
            <ul>
            {{#trucks}}
                <li><a href='{{website}}' target='_blank'>{{name}}</a></li>
            {{/trucks}}
            </ul>
            <p><strong>Note:</strong> Clicking these names will open each link in a new window.</p>
        </script>
        </section>
        <!-- // end Mustache template -->


        <script src='//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js'></script>
        <script>window.jQuery || document.write('<script src=\'js/vendor/jquery-1.9.1.min.js\'><\/script>')</script>
        <script src='http://code.jquery.com/ui/1.10.2/jquery-ui.js'></script>
        <script src='js/vendor/mustache.js' type='text/javascript'></script>

        <script src='js/plugins.js'></script>
        <script src='js/main.js' type='text/javascript'></script>
        <script src='js/map.js' type='text/javascript'></script>

        <!-- Google Analytics: change UA-XXXXX-X to be your site's ID. -->
        <!-- 
        <script>
            var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src='//www.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>
        // -->

    </body>
</html>